参考链接：https://www.cnblogs.com/Renyi-Fan/p/13938385.html
在线公式编辑网站：https://editor.codecogs.com/

### *一、随机事件及其概率*

全集 $P(\Omega) = 1$
空集 $P(\phi) = 0$

<br>

加法原理：有几种情况
乘法原理：分为几步
    乘法公式：（事件之间不一定独立的时候）
$$
P(AB) = P(B)P(A|B) = P(A)P(B|A) \\
P(ABC) = P(A)P(A|B)P(C|AB)
$$

<br>

几何概率模型
与线段、平面、立体有关的模型
一张桌子，一个质子扔到左边部分的的概率是 $1/2$

<br>

频率和概率的关系
频率需要做大量的实验才能逼近概率
只要次数 $n$ 足够大，就可以说频率是概率的近似

<br>

条件概率
样本空间发生了变化
$P(A|B)$ 不同于 $P(AB)$，而是 $P(AB)/P(B)$
$P(A|B)$ 表示 $B$ 发生的情况下，$A$ 发生的概率
例子：今天家里买了水果，让你猜猜是什么水果，直接猜测的话概率可能很低，因为有可能苹果、提子、梨、桃等等，不过现在假如是一个特定季节，且告诉你水果的颜色，那么某种水果的概率就会增加。所以给定条件后，会导致事件发生的概率发生变化

<br>

联合概率和条件概率
联合概率侧重于同时发生
条件概率侧重于一个先发生，另一个后发生
$$
P(AB) = AB/S \\
P(A|B) = AB/B \\
\text{注意分子相同，但是分母的样本空间是不一样的}
$$


<br>

全概率公式
$P(B|A_{i})$ 即各个 $A_{i}$ 中的 $B$ 全部拼起来
白话就是：由因溯果，已知达到某个目的有很多方法，问能到达目的的概率是多少；或者造成某个结果有很多原因，问造成这个结果的概率是多少

<br>

贝叶斯公式
$$
P(AB) = P(B)P(A|B) = P(A)P(B|A)
$$
由来是乘法公式
白话就是：由果溯因，已知结果，问导致这个结果的第 $i$ 个原因的概率是多少

<br>

独立、互不相容
独立（可以同时发生）：$P(AB) = P(A)P(B) > 0$
互不相容（不可能同时发生）：$P(A+B) = P(A) + P(B)$，其中右边的 $-P(AB) = 0$ 省略了
应用：多元线性回归中的概率公式推导，就是用的事件之间的独立性
$$
P(A_{1}A_{2}...A_{n})=P(A_{1})P(A_{2})...P(A_{n})
$$

<br>

伯努利公式
投骰子，有 $5/6$ 的概率投出小于 $6$ 的点数，问投 $100$ 次从未投到 $6$ 的概率是多少？
$P_{100} = (5/6)^{100} = ...$

***

## **二、随机变量及其分布**

什么是随机变量？
将事件与数值联系起来
表示随机试验各种结果的实值单值函数，可以用数学分析的方法来研究随机现象

<br>

离散随机变量
抛硬币：
| X | 1 | 0 |
| --- | --- | --- |
| P | 1/2 | 1/2 |
大写 $X$ 表示具体变量，小写 $x$ 表示样本取值

<br>

概率表达方式
1、离散型随机变量：概率分布函数
    设 $X$ 是一个随机变量，$x$ 是任意实数，函数 $F(x) = P(X \leqslant x)$ 称为 $X$ 的分布函数。有时也记为 $X \sim F(x)$。（像一个阶梯）分布函数就是变量小于等于某个特定值 $x$ 的概率
2、连续型随机变量：概率密度函数
    $X \sim f(x)$：$P\{a<x \leqslant b\} = \int_{a}^{b} f(x)dx$

<br>

概率密度直方图
$y$ 轴是频率/组距，所以小长方形的面积之和为 $1$
介于 $x=a$，$x=b$ 之间的面积（对概率密度函数求积分），近似等于它落在 $(a,b]$ 之间的频率

<br>

概率密度函数的某一个 $x$ 对应的值的意义是什么？
$x$ 对应的 $y$ 并不是概率的大小，因为 **某个点的概率为 $0$**
$x$ 对应的 $y$ 的值是取 $x$ 附近的概率值的大小，$P\{x<X<x+\Delta x\} \approx f(x)\Delta x$

<br>

分布函数 $F(x) = P(X \leqslant x)$ 对离散型和连续型都成立，但是具体对离散型和连续型的求法不一样

<br>

离散型分布
1、泊松分布
可以通过 **无限细分的二项分布** 推出来，求极限的话就是得到的结果就是泊松分布
$$
P(X=k) = \frac{\lambda^{k}}{k!} e^{-\lambda}
$$
描述人群每分钟闯红灯的情况
2、超几何分布
从 $a$ 个白球和 $b$ 个黑球中抽取 $n$ 个球，那么以 $X$ 表示抽取出的白球的数目，它的分布律满足超几何分布
近似计算，$N$ 很大，$n/N$ 很小时可以转换成泊松分布？？？？？
3、01 分布
4、几何分布
前 $k-1$ 次均没发生，但是第 $k$ 次发生
5、二项分布
近似计算，当 $n>100$ 且 $np \leqslant 10$ 时，可以转换成泊松分布 $lambda=np$ ？？？？？

<br>

指数分布
$X \sim \text{Exp}(\lambda)$
$$
F(x; \lambda) = 
\begin{cases}
\ 1-e^{-\lambda x} &, x \geqslant 0 \\
\ 0 &, x < 0
\end{cases}
$$
应用：半导体器件的抽验方案都是采用指数分布；还用来描述大型复杂系统（如计算机）的平均故障间隔时间 MTBF 的失效分布

<br>

离散型随机变量函数的分布
已知 $X$ 的分布，求 $Y=3X+5$ 和 $Z=X^{2}$ 的分布
| X | -1 | 0 | 1 | 2 |
| --- | --- | --- | --- | --- |
| P | 0.2 | 0.3 | 0.4 | 0.1 |
$Y$ 的取值有：$2、5、8、11$，故
| Y | 2 | 5 | 8 | 11 |
| --- | --- | --- | --- | --- |
| P | 0.2 | 0.3 | 0.4 | 0.1 |
$Z$ 的取值有：$0、1、4$，故
| Y | 0 | 1 | 4 |
| --- | --- | --- | --- |
| P | 0.3 | 0.2+0.4=0.6 | 0.1 |

<br>

连续型随机变量函数的分布
设随机变量 $X$ 的概率密度函数为 $f_{X(x)}$，并假设 $y=g(x)$ 及其 **一阶导数是连续** 函数，则 $Y=g(X)$ 是连续型随机变量，现在来求 $Y$ 的概率密度函数 $f_{Y(x)}$
第一步：建立随机变量 $Y$ 的分布函数 $F_{Y(x)}$ 与 $X$ 的分布函数 $F_{X(x)}$ 之间的关系，或者求出随机变量 $Y$ 的分布函数 $F_Y(x)$
第二步：对 $F_{Y(x)}$ 求导便得 $f_{Y(x)}$
例子
设随机变量 $X$ 的概率密度函数为 $f_{X(x)}$，$Y=3X+2$，求 $Y$ 的概率密度函数 $f_{Y(x)}$
1、建立随机变量 $Y$ 的概率分布函数 $F_{Y(x)}$ 与 $X$ 的概率分布函数 $F_{X(x)}$ 之间的关系：
$$
F_{Y(x)} = P\{Y \leqslant x\} = P\{3X+2 \leqslant x\} = P\{X \leqslant (x-2)/3\} = F_{X((x-2)/3)}
$$
2、两边求导：
$$
f_{Y(x)} = 1/3*f_{X((x-2)/3)}
$$
3、如果知道 $f_{X(x)}$，直接将它替换成 $f_{Y(x)}$ 即可，例如若
$$
f_{X(x)} = 1/4，(0 \leqslant x \leqslant 4)
$$
那么对应的
$$
f_Y(x)=1/3*1/4，(0 \leqslant (x-2)/3 \leqslant 4)
$$

<br>

分布函数 $F(x)$ 和概率密度函数 $f(x)$ 的关系
分布函数 **求导** 是概率密度函数
概率密度函数 **积分** 是分布函数
概率密度函数积分是求面积，那么自然结果是分布函数

<br>

线性和非线性
线性：一维的相加减
非线性：$y=x^2$，$sinx$，$1/y$，$lnz$，$tan(x^2+1)$ 等等

***

## **三、多维随机变量及其分布**

二维随机变量及其分布函数
设 $E$ 是随机试验，其样本空间为 $Ω$，$X$、$Y$是定义在 $Ω$ 上试验 $E$ 的两个随机变量
称以 $x$、$y$ 为分量的向量 $(X,Y)$ 为试验 $E$ 的二维随机变量，或称二维随机向量
比如研究人的身高体重，身高体重就是 $(X,Y)$ 向量
设 $x$、$y$ 为任意实数，二元函数 $F(x,y) = P\{X \leqslant x,Y \leqslant y\}$ 称为 **二维随机变量 $(X,Y)$ 的分布函数**，或称为 $X$ 与 $Y$ 的 **联合分布函数**

![二维随机变量](https://pic4.zhimg.com/80/v2-8d935020fea59cbe055c0ab383956deb_720w.webp)
$F(X,Y)$ 的值即左下角区域的 **面积**

<br>

二维离散型的联合分布和边缘分布
联合分布：随机变量 $(X,Y)$ 的概率分布函数为联合分布
| X\Y | 1 | 2 | 3 |
| --- | --- | --- | --- |
| 1 | 0 | 1/2 | 1/8 |
| 2 | 1/8 | 1/8 | 1/8 |
$P\{X=x_{i}; Y=y_{j}\} = P_{ij} \geqslant 0$
$F(-1,2) = P\{X \leqslant -1, Y \leqslant 2\} = 0$
$F(1,2) = P\{X \leqslant 1, Y \leqslant 2\} = 0+1/2 = 1/2$
$F(4,5) = P\{X \leqslant 4, Y \leqslant 5\} = 1$
边缘分布：对离散的概率表的行或列求和，得到分量 $X$(或$Y$) 的概率分布，称为边缘分布
| X | 1 | 2 |
| --- | --- | --- |
| P | 0 | 5/8 | 3/8 |

| Y | 1 | 2 | 3 |
| --- | --- | --- | --- |
| P | 1/8 | 5/8 | 2/8 |

<br>

二维离散型的联合分布和边缘分布
联合分布
$$
F(x,y) = P\{X \leqslant x, Y \leqslant y\} = \int_{-\infty}^{x} \int_{-\infty}^{y} f(u,v) dudv
$$
其中 $f(u,v)$ 是联合密度函数
边缘分布
利用联合密度函数，$X$ 的边缘就对 $y$ 积分，$Y$ 的边缘就对 $x$ 积分
$$
f_{X}(x) = \int_{-\infty}^{+\infty} f(x,v) dv = \int_{-\infty}^{+\infty} f(x,y) dy
$$
独立性：
若边缘分布相乘等于联合分布，则说明变量之间是独立的，反之不独立，例如
| X\Y | 0 | 1 | $P_{i}^{X}（X的边缘分布,i=0,1）$ |
| --- | --- | --- | :---: |
| 0 | 0.2 | 0.2 | 0.4 |
| 1 | 0.2 | 0.4 | 0.6 |
| $P_{j}^{Y}（Y的边缘分布,j=0,1）$ | 0.4 | 0.6 | 1 |

| X\Y | 0 | 1 | $P_{i}^{X}（X的边缘分布,i=0,1）$ |
| --- | --- | --- | :---: |
| 0 | 0.2 | 0.3 | 0.5 |
| 1 | 0.2 | 0.3 | 0.5 |
| $P_{j}^{Y}（Y的边缘分布,j=0,1）$ | 0.4 | 0.6 | 1 |

<br>

多维随机变量
之前描述的问题都只有一个变量，比如身高，体重之类的
但是有些问题一定需要多个变量，比如研究家庭生活情况的衣食住行四个方面

<br>

条件分布
在 **某条件之下发生的分布**
比如身高限定在 1.7m，看体重的分布
样本空间会发生改变
1、**离散型** 随机变量
| X\Y | 0 | 1 | $P_{i}^{X}（X的边缘分布,i=0,1）$ |
| --- | --- | --- | :---: |
| 0 | 0.1 | 0.3 | 0.4 |
| 1 | 0.3 | 0.3 | 0.6 |
| $P_{j}^{Y}（Y的边缘分布,j=0,1）$ | 0.4 | 0.6 | 1 |
$P\{X=1 | Y=0\} = \frac{P\{X=1,Y=0\}}{P\{Y=0\}} = \frac{0.3}{0.4} = 0.75$
2、**连续型** 随机变量的条件分布
同理
定义：$(X,Y)$，$f(x,y)$，$f_{X}(x)$，$f_{Y}(y)>0$，则
$$
f(x | y) = \frac{f(x,y)}{f_{Y}(y)} \\
F(x | y) = \int_{-\infty}^{x} \frac{f(u,y)}{f_{Y}(y)} du
$$

<br>

二维离散型 **随机变量函数** 的分布
| X\Y | 4 | 4.2 |
| --- | --- | --- |
| 5 | 0.2 | 0.4 |
| 5.1 | 0.3 | 0.1 |
若 $Z = XY$，则 $Z$ 的分布为
| Z | 20 | 21 | 20.4 | 21.41 |
| --- | --- | --- | --- | --- |
| P | 0.2 | 0.4 | 0.3 | 0.1 |

***

## **四、随机变量的数字特征**

离散型变量的数学期望
对 $x_{i}p_{i}$ 求和
连续型变量的数学期望
对 $xf(x)$ 求积分，$x$ 是取值，$f(x)$ 是概率

<br>

**随机变量函数** 的数学期望
已知 $x$ 的期望，此时 $Y=g(x)$，求 $Y$ 的期望
直接把公式里面的 $x$ 换成 $g(x)$

<br>

数学期望的性质
若 $X$、$Y$ 独立，则有 $E(XY) = E(X)E(Y)$

<br>

条件期望
两个变量，一个变量取定了某个值的前提下，另一个变量的期望
离散
$E(X|Y=y_{j}) = x_{i}P(X=x_{i}|y=y_{j})$
连续
$E(X|Y=y_{j}) = yf(x|y)dx$

<br>

方差
$D(X) = E[(X-EX)^2]$
离散
连续
标准差即再开根号
$D(X) = E(X^2)-E(X)^2$

<br>

常见分布的期望和方差
| 分布 | 定义 | 数学期望 | 方差 |
| --- | --- | --- | --- |
| 01分布 | $P(X=k)=p^{k}(1-p)^{1-k} \quad k=0,1$ | $p$ | $pq$ |
| 二项分布 | $P(X=k)=C_{n}^{k}p^{k}(1-p)^{n-k} \quad k=0,1,...,n$ | $np$ | $npq$ |
| 几何分布 | $P(X=k)=(1-p)^{k-1}p \quad k=1,2,...$ | $\frac{1}{p}$ | $\frac{1-p}{p^{2}}$ |
| 泊松分布 | $P(X=k)=\frac{\lambda^{k}}{k!} e^{-\lambda} \quad k=0,1,...$ | $\lambda$ | $\lambda$ |
| 均匀分布 | $f(x) = 
\begin{cases}
\ \frac{1}{b-a} & ,x \in [a,b] \\
\ 0 & ,\text{else}
\end{cases}$ | $\frac{a+b}{2}$ | $\frac{ (b-a)^{2} }{12}$ |
| 指数分布 | $f(x) = 
\begin{cases}
\ \lambda e^{-\lambda x} & ,x>0 \\
\ 0 & ,\text{else}
\end{cases}$ | $\frac{1}{\lambda}$ | $\frac{1}{\lambda^{2}}$ |
| 正态分布 | $f(x)=\frac{1}{\sqrt{2 \pi}\sigma} \text{exp}(-\frac{(x-\mu)^{2}}{2 \sigma^{2}})$ | $\mu$ | $\sigma^{2}$ |

<br>

协方差
$$
\begin{aligned}
Cov(X,Y) = \,& E[(X-EX)(Y-EY)] \\
= \,& E[XY-XE(Y)-YE(X)+E(X)E(Y)] \\
= \,& E(XY) - E(X)E(Y) - E(X)E(Y) + E(X)E(Y) \\
= \,& E(XY)-E(X)E(Y)
\end{aligned}
$$
【协方差表示两变量的关系】：两个变量在变化过程中是同方向变化？还是反方向变化？同向或反向程度如何？
【相关系数看做特殊协方差】：相关系数 $\rho = \frac{Cov(X,Y)}{\sqrt{D(X)D(Y)}} = \frac{E(XY)-E(X)E(Y)}{\sqrt{D(X)D(Y)}}$，是一种剔除了两个变量量纲影响、标准化后的特殊协方差

<br>

$X$, $Y$ 不相关和 $X$, $Y$ 独立
不相关：指的是 $X$, $Y$ 线性不相关
独立：指的是 $X$, $Y$ 之间没有任何关系，包括线性关系，非线性关系
$X$, $Y$ 独立可以推出则 $X$, $Y$ 不相关

<br>

中心矩与原点矩
原点矩以原点为中心：$E[(X-0)^{k}]=E(X^{k})$，期望是 $E(X)$，所以 **期望是一阶原点矩**
几何图形的重心
中心矩以 $E(X)$ 为中心：$E[(X-E(X))^k]$，一阶中心距 $E[(X-EX)^1]=E(X)-E(X)=0$；**二阶中心距 $E[(X-E(X))^2]$ 就是方差**

***

## **五、大数定律与中心极限定理**

大数定理：大量重复试验的平均结果（期望）的稳定性

<br>

切比雪夫不等式：事件大多会集中在平均值附近
期望和方差存在的时候
$$
P(|X-EX| \geqslant \varepsilon) \leqslant \frac{DX}{\varepsilon_{2}} \\
\text{等价于} \\
P(|X-EX| < \varepsilon) \geqslant 1- \frac{DX}{\varepsilon_{2}}
$$

<br>

切比雪夫大数定律
变量均值收敛于期望均值
$$
\displaystyle \lim_{ n \to \infty } P\{ \left| \frac{1}{n} \sum_{i=1}^{n} X_{i} - \frac{1}{n} \sum_{i=1}^{n} E(X_{i}) \right| < \varepsilon \} =1
$$

<br>

中心极限定理
大量独立同分布的变量和的极限分布是正态分布
如果样本量足够大，则变量 **均值的采样分布** 将 **近似于正态分布**，而与该变量在总体中的分布无关
标准化之后，期望为 $0$，方差为 $1$，没标准化的话，期望为为 $nμ$，方差为 $nσ^{2}$

***

## **六、数理统计的基本概念**

总体就是全体集合
样本就是抽出的样本

<br>

样本变量是 $X_{i}$
样本观测值是 $x_{i}$

<br>

统计量
不含任何未知参数的样本的函数
需要通过样本去 **构造** 函数
常用统计量：均值、样本方差、标准差、原点矩、中心距等

***

## **七、参数估计**

参数估计就是用样本的值来猜测总体分布的参数值（需要用样本 **构造函数** 来估计）
参数空间即参数的取值范围

<br>

点估计：只猜一个点。例如要猜身高我们只给出了 $180$
区间估计：猜测一个区间。例如要猜身高我们给出在 $[160, 185]$

<br>

极大似然估计
概率大的事件比概率小的事件更容易发生，即将使事件发生的概率最大的参数值作为估计值
似然函数为什么是连乘起来的？
本来是联合概率函数，因为独立，所以分开来写
做题步骤：
1、离散型随机变量就确定总体的概率函数，连续型随机变量就确定密度函数
2、写似然函数 $L(λ)$，$λ$ 是参数
3、两边去 $ln$（因为是连乘），得 $lnL(λ)$
4、对 $λ$ 求导，得最大值的话，就是令导数为 $0$s